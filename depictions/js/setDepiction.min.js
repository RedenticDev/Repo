function lastUpdateDate(r){return new Promise((e,i)=>{const n={year:"numeric",month:"2-digit",day:"2-digit"};try{const a=new XMLHttpRequest;a.onload=()=>{if(200==a.status&&4==a.readyState){const t=new Date(JSON.parse(a.responseText)[0].commit.committer.date);console.log("Date successfully fetched for url: "+r+" ("+t+")"),e(t.toLocaleDateString("en-US",n))}else i("Error (status: "+a.status+", state: "+a.readyState+")")},a.open("GET",r,!0),a.send()}catch(t){i(t.message)}})}function compatible(t,e){var i=parseFloat((""+(/CPU.*OS ([0-9_]{1,})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""));t=numerize(t),e=numerize(e);const n=document.getElementById("compatibility"),a=document.getElementById("compatibility-box");i<t?(n.innerHTML="Your iOS version is too old for this package. It is compatible from iOS "+t+" to "+e+".",n.style.color="red",a.style.backgroundColor="lightpink",a.style.border="1px solid red"):e<i?(n.innerHTML="This package has not been tested yet with your iOS version. It works from iOS "+t+" to "+e+".",n.style.color="goldenrod",a.style.backgroundColor="lightyellow",a.style.border="1px solid goldenrod"):"NaN"!=String(i)?(n.innerHTML="This package works on your device!",n.style.color="green",a.style.backgroundColor="lightgreen",a.style.border="1px solid green"):(n.innerHTML="Cannot determine your version. Open this page on an iOS device to check compatibility.",n.style.fontStyle="italic")}function numerize(t){return t.substring(0,t.indexOf("."))+"."+t.substring(t.indexOf(".")+1).replace(".","")}$(()=>{let s;for(const e of location.search.substring(1).split("&")){var t=e.split("=");"p"==decodeURIComponent(t[0])&&(s=decodeURIComponent(t[1]))}if(s){let a=!0,r="";console.log("Package: "+s);const o=location.href.split("?")[0]+s,d="https://api.github.com/repos/RedenticDev/Repo/commits?path=debs/";$.ajax({type:"GET",url:o+"/info.xml",dataType:"xml",success:n=>{console.log("Beginning XML parsing"),$(n).find("packageInfo").each(function(){document.title=$(this).find("name").text().trim();var t=$(this).find("changeVersion:first").text().replace("v","").trim();compatible($(this).find("miniOS").text().trim(),$(this).find("maxiOS").text().trim()),$(n).find("description").each(function(){$("#description").append("<li>"+$(this).text().trim()+"</li>")}),$(n).find("dependency").each(function(){$("#dependencies").append("<li>"+$(this).text().trim()+"</li>")}),$(n).find("change:first").each(function(){$("#pill").append($(this).find("changeVersion").text().trim()),r+="<li>",$(this).find("changeDescription").each(function(){r+="<h2>- "+$(this).text().trim()+"</h2>"}),r+="</li>"}),lastUpdateDate(d+s+"_"+t+"_iphoneos-arm.deb").then(t=>$("#changelog-date").append(t)),$("#changelog").append(r+'<table><tr><td><a href="changelog/?p='+s+'" target="_blank">Full changelog</a></td></tr></table>'),$(n).find("screen").each(function(){a=!1,$("#screenshots").append('<li><a href="'+o+"/"+$(this).text().trim()+'" target="_blank"><img src="'+o+"/"+$(this).text().trim()+'" draggable="false" /></a></li>')}),a&&$("#screenshots").append("<li>No screenshots provided.</li>"),$("#infoTable").append("<tr><th>Developer</th><td>"+$(this).find("developer").text().trim()+"</td></tr>"),$("#infoTable").append("<tr><th>Price</th><td>Free</td></tr>"),$("#infoTable").append("<tr><th>Version</th><td>"+t+"</td></tr>"),$("#infoTable").append("<tr><th>iOS Version</th><td>iOS "+$(this).find("miniOS").text().trim()+" to "+$(this).find("maxiOS").text().trim()+"</td></tr>"),$("#infoTable").append('<tr><th>Last update</th></td><td id="last-update"></td></tr>'),$("#infoTable").append('<tr><th>Release date</th></td><td id="release-date"></td></tr>'),lastUpdateDate(d+s+"_"+t+"_iphoneos-arm.deb").then(t=>$("#last-update").append(t)),lastUpdateDate(d+s+"_"+$(this).find("changeVersion:last").text().replace("v","").trim()+"_iphoneos-arm.deb").then(t=>$("#release-date").append(t)),$("#infoTable").append("<tr><th>Category</th><td>"+$(this).find("category").text().trim()+"</td></tr>"),$("#links").append('<tr><td><a href="'+$(this).find("github").text().trim()+'" target="_blank"><img src="https://is1-ssl.mzstatic.com/image/thumb/Purple125/v4/a8/34/3c/a8343c15-9a86-ce5f-6218-0b0c41af08f4/AppIcon-0-1x_U007emarketing-0-7-0-85-220.png/217x0w.png" alt="GitHub icon" />GitHub</a></td></tr>'),$("#links").append('<tr><td><a href="'+$(this).find("twitter").text().trim()+'" target="_blank"><img src="https://is1-ssl.mzstatic.com/image/thumb/Purple115/v4/33/eb/b3/33ebb37c-f1f1-8e40-8d88-9dc483fb4a2e/ProductionAppIcon-1x_U007emarketing-0-7-0-0-0-85-220.png/217x0w.png" alt="Twitter icon" />Twitter</a></td></tr>'),$("#links").append('<tr><td><a href="'+$(this).find("reddit").text().trim()+'" target="_blank"><img src="https://is2-ssl.mzstatic.com/image/thumb/Purple115/v4/27/6d/03/276d03c0-7886-4f78-da37-844b679d6c01/AppIcon-1x_U007emarketing-0-7-0-85-220.png/217x0w.png" alt="Reddit icon" />Reddit</a></td></tr>');var[e,i,t]=$(this).find("discord").text().trim().split("|");$("#links").append('<tr><td><a href="https://discord.com/users/'+t+'/" target="_blank"><img src="https://is3-ssl.mzstatic.com/image/thumb/Purple125/v4/5e/be/72/5ebe7274-4a54-36e5-a229-854d142dbbfe/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/217x0w.png" alt="Discord icon" />Discord ('+e+"#"+i+")</a></td></tr>"),$("#links").append('<tr><td><a href="'+$(this).find("mail").text().trim()+'" target="_blank"><img src="https://is1-ssl.mzstatic.com/image/thumb/Purple123/v4/c7/40/e5/c740e5f0-2a62-4fa7-dc1b-66ea3d519545/AppIcon-0-1x_U007emarketing-0-0-GLES2_U002c0-512MB-sRGB-0-0-0-85-220-0-0-0-10.png/217x0w.png" alt="Apple Mail icon" />Mail</a></td></tr>'),$("#links").append('<tr><td><a href="'+$(this).find("paypal").text().trim()+'" target="_blank"><img src="https://is5-ssl.mzstatic.com/image/thumb/Purple125/v4/66/37/0d/66370de2-4c2c-43d2-1f2b-dd4b0c5e563a/AppIcon-0-0-1x_U007emarketing-0-0-0-7-0-0-sRGB-0-0-0-GLES2_U002c0-512MB-85-220-0-0.png/217x0w.png" alt="PayPal icon" />Paypal</a></td></tr>')}),console.log("XML parsing done.")}})}else console.log("Package not found. Aborting.")}),$("img").bind("dragstart",()=>!1),$("img").bind("mousedown",()=>!1);